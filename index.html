<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Something just for you!</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600&family=Gloria+Hallelujah&family=Pacifico&display=swap" rel="stylesheet">
    
    <style>
        /* --- GLOBAL STYLES --- */
        :root {
            --primary: #ff4d6d;
            --bg: #0f0316;
        }
        
        body {
            margin: 0;
            padding: 0;
            background-color: var(--bg);
            background: radial-gradient(circle at center, #1a0525 0%, #0f0316 100%);
            color: white;
            font-family: 'Outfit', sans-serif;
            overflow: hidden; 
            height: 100dvh; 
            display: flex;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        /* --- BACKGROUND HEARTS --- */
        .bg-hearts {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;
            z-index: 0;
            pointer-events: none;
        }
        
        .floating-heart {
            position: absolute;
            bottom: -20px;
            color: rgba(255, 77, 109, 0.3);
            font-size: 20px;
            animation: floatUp linear infinite;
        }

        @keyframes floatUp {
            0% { transform: translateY(0) rotate(0deg); opacity: 0; }
            20% { opacity: 0.6; }
            100% { transform: translateY(-110vh) rotate(360deg); opacity: 0; }
        }

        .container {
            width: 90%;
            max-width: 380px;
            position: relative;
            z-index: 10;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100%;
        }

        .hidden { display: none !important; }

        /* Images */
        .main-img {
            width: 180px;
            height: auto;
            border-radius: 15px;
            margin-bottom: 20px;
            box-shadow: 0 0 25px rgba(255, 77, 109, 0.3);
        }

        /* Text */
        h1 {
            font-family: 'Pacifico', cursive;
            font-size: 1.8rem;
            color: #ffb3c1;
            font-weight: 400;
            text-shadow: 0 0 15px rgba(255, 77, 109, 0.8);
            margin: 10px 0;
            line-height: 1.3;
        }
        
        p {
            font-size: 1rem;
            color: #e0e0e0;
            font-weight: 400;
            margin-bottom: 20px;
        }

        /* --- PREMIUM GIFT BOX STYLES --- */
        .gift-container {
            position: relative;
            margin: 60px auto 20px auto; /* More space for text above */
            width: 150px;
            height: 150px;
            cursor: pointer;
            /* Premium Highlight Glow */
            animation: boxGlow 2s infinite alternate;
        }

        @keyframes boxGlow {
            0% { filter: drop-shadow(0 0 10px rgba(255, 77, 109, 0.4)); transform: scale(1); }
            100% { filter: drop-shadow(0 0 25px rgba(255, 77, 109, 0.8)); transform: scale(1.02); }
        }
        
        .gift-body {
            position: absolute;
            bottom: 0;
            width: 150px;
            height: 100px;
            background: linear-gradient(135deg, #ff4d6d, #d63353);
            border-radius: 0 0 15px 15px;
            box-shadow: inset 0 -10px 20px rgba(0,0,0,0.1);
            z-index: 10;
        }
        /* Gold Ribbon Line */
        .gift-body::after {
            content: '';
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 20px;
            height: 100%;
            background: #ffeb3b; /* Gold */
            box-shadow: 0 0 5px rgba(255, 235, 59, 0.5);
        }

        .gift-lid {
            position: absolute;
            top: 20px;
            left: -10px;
            width: 170px;
            height: 40px;
            background: linear-gradient(135deg, #ff758f, #ff4d6d);
            border-radius: 10px;
            z-index: 20;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            transition: transform 0.5s ease-in-out, top 0.5s ease-in-out;
        }
        .gift-lid::after {
            content: '';
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            width: 20px;
            height: 100%;
            background: #ffeb3b; /* Gold */
        }

        .gift-bow {
            position: absolute;
            top: 10px;
            left: 55px;
            width: 40px;
            height: 40px;
            border: 5px solid #ffeb3b;
            border-radius: 50%;
            z-index: 25;
            transition: transform 0.5s ease-in-out, top 0.5s ease-in-out;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        .gift-open .gift-lid { transform: rotate(-10deg) translateY(-20px); top: -60px; }
        .gift-open .gift-bow { transform: rotate(-10deg) translateY(-20px); top: -70px; }

        /* --- SEQUENTIAL TEXT STYLES ("I" "Love" "You") --- */
        .text-row {
            position: absolute;
            bottom: 120px; /* Floats high above box */
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            z-index: 30;
            width: 300px;
            pointer-events: none;
        }

        .word-pop {
            opacity: 0;
            transform: translateY(20px) scale(0.5);
            transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); /* Bouncy effect */
            
            /* Sticker Style */
            background: white;
            color: #ff4d6d;
            padding: 8px 15px;
            border-radius: 20px;
            font-family: 'Pacifico', cursive;
            font-size: 1.4rem;
            box-shadow: 0 5px 15px rgba(255, 77, 109, 0.3);
            border: 2px solid #fff0f3;
        }

        .word-visible {
            opacity: 1;
            transform: translateY(0) scale(1);
        }

        /* Flying Emojis */
        .flying-emoji {
            position: absolute;
            font-size: 2rem;
            animation: popOut 2s forwards ease-out; /* Slower vanish (2s) */
            z-index: 15;
        }
        @keyframes popOut {
            0% { transform: translate(0, 0) scale(0.5); opacity: 0; }
            50% { opacity: 1; }
            100% { transform: translate(var(--x), var(--y)) rotate(var(--r)) scale(1.2); opacity: 0; }
        }

        /* --- SLIDESHOW --- */
        .slider-wrapper {
            width: 100%;
            height: 280px;
            overflow-x: auto;
            overflow-y: hidden;
            display: flex;
            scroll-snap-type: x mandatory;
            border-radius: 15px;
            box-shadow: 0 0 15px rgba(255,255,255,0.1);
            margin-bottom: 15px;
        }
        .slider-wrapper::-webkit-scrollbar { display: none; }
        .slide {
            min-width: 100%;
            height: 100%;
            scroll-snap-align: center;
            display: flex;
            justify-content: center;
            align-items: center;
            background: #1a0525;
            margin: 0 15px; 
        }
        .slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 15px;
        }

        /* --- BUTTONS --- */
        .btn {
            background: linear-gradient(135deg, #ff4d6d, #ff8fa3);
            border: none;
            padding: 12px 35px;
            color: white;
            border-radius: 50px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(255, 77, 109, 0.5);
            transition: transform 0.2s;
            margin-top: 10px;
        }
        .btn:active { transform: scale(0.95); }
        .btn-group { display: flex; gap: 15px; justify-content: center; }
        .btn-red { background: linear-gradient(135deg, #ff0000, #ff4d4d); }

        /* --- THE LETTER --- */
        .letter-box {
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(5px);
            padding: 20px;
            border-radius: 15px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            text-align: left;
            max-height: 50vh;
            overflow-y: auto;
        }
        .letter-text {
            font-family: 'Gloria Hallelujah', cursive;
            font-size: 1rem;
            line-height: 1.6;
            color: #fff0f5;
        }

        /* --- FINAL HEART JOINING --- */
        .heart-container {
            position: relative;
            width: 160px;
            height: 160px;
            margin: 20px auto;
            transition: filter 0.5s ease 1s;
        }
        .heart-glow { filter: drop-shadow(0 0 25px rgba(255, 20, 60, 0.9)); }
        
        .final-heart {
            width: 160px;
            height: 160px;
            background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="%23ff0000"><path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>');
            background-repeat: no-repeat;
            background-position: center;
            background-size: contain;
            position: absolute;
            top: 0;
        }

        .half-wrapper {
            position: absolute;
            width: 80px;
            height: 160px;
            overflow: hidden;
            top: 0;
            transition: transform 1.2s cubic-bezier(0.25, 1, 0.5, 1), opacity 0.5s;
            opacity: 0;
        }

        .left-wrapper { left: 0; transform: translateX(-100px); }
        .left-wrapper .final-heart { left: 0; }

        .right-wrapper { right: 0; transform: translateX(100px); }
        .right-wrapper .final-heart { right: 0; }

        .joined .left-wrapper { transform: translateX(0); opacity: 1; }
        .joined .right-wrapper { transform: translateX(0); opacity: 1; }

        .forever-text {
            font-size: 2.2rem;
            font-family: 'Pacifico', cursive;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 1s 1.5s, transform 1s 1.5s;
        }
        .show-text { opacity: 1; transform: translateY(0); }

    </style>
</head>
<body>
    <audio id="bgMusic" loop>
        <source src="music.mp3" type="audio/mp3">
    </audio>

    <div class="bg-hearts" id="bgHearts"></div>

    <div id="page1" class="container">
        <img src="images/panda_intro.gif" class="main-img" alt="Cute Panda">
        <h1>Something special is coming...</h1>
        <h1 style="font-size: 3rem; margin-top:0;">...</h1>
    </div>

    <div id="page2" class="container hidden">
        <img src="images/bear_ask.gif" class="main-img" alt="Bear Ask">
        <h1>I have something special to tell you...</h1>
        <button class="btn" onclick="nextPage(3)">Tap to Begin</button>
    </div>

    <div id="page3" class="container hidden">
        <img id="imgQ1" src="images/bear_ask.gif" class="main-img" alt="Question">
        <h1 id="textQ1">Do you like surprises?</h1>
        <p>I promise it's worth it...</p>
        <div class="btn-group">
            <button class="btn" onclick="nextPage(4)">Yes</button>
            <button class="btn btn-red" onclick="handleNo(1)">No</button>
        </div>
    </div>

    <div id="page4" class="container hidden">
        <img id="imgQ2" src="images/bear_ask.gif" class="main-img" alt="Like Me">
        <h1 id="textQ2">Do you like me?</h1>
        <p>Be honest with me...</p>
        <div class="btn-group">
            <button class="btn" onclick="nextPage(5)">Yes</button>
            <button class="btn btn-red" onclick="handleNo(2)">No</button>
        </div>
    </div>

    <div id="page5" class="container hidden">
        <h1 style="margin-bottom: 30px;">This is what I want to say for <span style="color:#ff4d6d">so long...</span></h1>
        <p style="margin-top: -15px; font-size: 0.9rem; opacity: 0.8;">(Tap the box to open)</p>

        <div class="gift-container" onclick="openGift()">
            <div class="gift-box">
                <div class="gift-lid"></div>
                <div class="gift-body"></div>
                <div class="gift-bow"></div>
            </div>
            
            <div class="text-row">
                <div id="word1" class="word-pop">I</div>
                <div id="word2" class="word-pop">Love</div>
                <div id="word3" class="word-pop">You! ‚ù§Ô∏è</div>
            </div>
        </div>

        <button class="btn hidden" id="giftBtn" onclick="nextPage(6)" style="margin-top: 50px;">Continue ‚ûú</button>
    </div>

    <div id="page6" class="container hidden">
        <h1>From the first day I met you, life became <span style="color:#ff4d6d">brighter...</span></h1>
        
        <div class="slider-wrapper">
            <div class="slide"><img src="images/photo1.jpg"></div>
            <div class="slide"><img src="images/photo 2.jpg"></div>
            <div class="slide"><img src="images/photo 3.jpg"></div>
            <div class="slide"><img src="images/photo 4.jpg"></div>
        </div>
        <p style="font-size: 0.8rem; opacity: 0.7;">(Swipe to see photos)</p>

        <p>You make every moment special üíï</p>
        <button class="btn" onclick="nextPage(7)">See the Message ‚ûú</button>
    </div>

    <div id="page7" class="container hidden">
        <div style="cursor: pointer; animation: pulse 1.5s infinite;" onclick="nextPage(8)">
            <img src="images/cat_envelope.gif" alt="Envelope" style="width: 250px;">
        </div>
        <h1>This is just for <span style="color:#ff4d6d">you...</span></h1>
        <p>Tap to open</p>
    </div>

    <div id="page8" class="container hidden">
        <div class="letter-box">
            <div class="letter-text">
                Every challenge feels easier because I imagine you by my side.<br><br>
                You are not just my friend, you're the most special part of my life.
                You make me smile, you make my heart race, and you make me want to be a better version of myself.<br><br>
                I don't know what the future holds, but I know one thing for sure...<br>
                <b>I want that future with you.</b>
            </div>
        </div>
        <h1 style="margin-top: 20px;">Will you be mine forever?</h1>
        <button class="btn" onclick="celebrate()">‚ô• Yes, Forever! ‚ô•</button>
    </div>

    <div id="page9" class="container hidden">
        <h1 style="margin-bottom: -10px;">Let's make it worth it...</h1>

        <div id="heartGroup" class="heart-container">
            <div class="half-wrapper left-wrapper">
                <div class="final-heart"></div>
            </div>
            <div class="half-wrapper right-wrapper">
                <div class="final-heart"></div>
            </div>
        </div>
        
        <div id="finalText" class="forever-text">
            Forever ‚ú®
        </div>
    </div>

    <script>
        /* --- BACKGROUND FLOATING HEARTS --- */
        function createFloatingHearts() {
            const container = document.getElementById('bgHearts');
            const heartCount = 18; 
            for(let i=0; i<heartCount; i++) {
                setTimeout(() => { spawnHeart(container); }, i * 300);
            }
        }

        function spawnHeart(container) {
            const heart = document.createElement('div');
            heart.classList.add('floating-heart');
            heart.innerHTML = ' üíñ ';
            heart.style.left = Math.random() * 100 + '%';
            heart.style.animationDuration = (Math.random() * 3 + 4) + 's';
            heart.style.fontSize = (Math.random() * 20 + 10) + 'px';
            container.appendChild(heart);
            setTimeout(() => { heart.remove(); spawnHeart(container); }, 7000);
        }
        createFloatingHearts();


        /* --- MAIN LOGIC --- */
        function nextPage(id) {
            document.querySelectorAll('.container').forEach(d => d.classList.add('hidden'));
            document.getElementById('page' + id).classList.remove('hidden');
        }

        // 1. Intro Timer
        setTimeout(() => nextPage(2), 4000);

        // 2. The Trap
        function handleNo(q) {
            if (q === 1) {
                document.getElementById('imgQ1').src = "images/puppy_sad.gif";
                document.getElementById('textQ1').innerText = "But this one is special! Please?";
            } else {
                document.getElementById('imgQ2').src = "images/puppy_pleading.gif";
                document.getElementById('textQ2').innerText = "Please say yes! üò¢";
            }
        }

        // 3. GIFT BOX LOGIC (Sequential Text Pop-up)
        function openGift() {
            let container = document.querySelector('.gift-container');
            if(container.classList.contains('gift-open')) return; 
            container.classList.add('gift-open');
            
            // Remove the glow animation once opened
            container.style.animation = 'none';

            // Sequence:
            // 0.4s: "I"
            // 0.9s: "Love"
            // 1.4s: "You"
            setTimeout(() => { document.getElementById('word1').classList.add('word-visible'); }, 400);
            setTimeout(() => { document.getElementById('word2').classList.add('word-visible'); }, 900);
            setTimeout(() => { document.getElementById('word3').classList.add('word-visible'); }, 1400);

            // Explode Emojis (Flowers, Chocolates, etc.)
            const goodies = ['üç´', 'üåπ', 'üç¨', 'üå∏', 'üéâ', 'üíñ', 'üß∏'];
            for (let i = 0; i < 60; i++) { 
                let emoji = document.createElement('div');
                emoji.innerText = goodies[Math.floor(Math.random() * goodies.length)];
                emoji.className = 'flying-emoji';
                
                let randomX = (Math.random() - 0.5) * 300 + 'px'; 
                let randomY = -(Math.random() * 300 + 100) + 'px'; 
                let randomR = (Math.random() - 0.5) * 360 + 'deg'; 
                
                emoji.style.setProperty('--x', randomX);
                emoji.style.setProperty('--y', randomY);
                emoji.style.setProperty('--r', randomR);
                emoji.style.left = '60px'; 
                emoji.style.top = '50px';
                
                container.appendChild(emoji);
            }

            // Show Continue Button
            setTimeout(() => {
                document.getElementById('giftBtn').classList.remove('hidden');
            }, 2500);
        }

        // 4. Celebration
        function celebrate() {
            nextPage(9);
            startConfetti();
            setTimeout(startConfetti, 400); 

            setTimeout(() => {
                let heartGroup = document.getElementById('heartGroup');
                heartGroup.classList.add('joined');
                setTimeout(() => { heartGroup.classList.add('heart-glow'); }, 1000);
            }, 100); 

            setTimeout(() => {
                document.getElementById('finalText').classList.add('show-text');
            }, 1500);
        }

        function startConfetti() {
            for(let i=0; i<50; i++) {
                let conf = document.createElement('div');
                conf.style.position = 'fixed';
                conf.style.left = Math.random()*100 + '%';
                conf.style.top = '-10px';
                conf.style.width = '10px';
                conf.style.height = '10px';
                conf.style.backgroundColor = ['#ff0000', '#ff4d6d', 'white', 'gold'][Math.floor(Math.random()*4)];
                conf.style.animation = `fall ${Math.random()*3+2}s linear forwards`;
                document.body.appendChild(conf);
            }
            
            if(!document.getElementById('fallKeyframes')) {
                const style = document.createElement('style');
                style.id = 'fallKeyframes';
                style.innerHTML = `@keyframes fall { to { transform: translateY(100vh) rotate(720deg); } }`;
                document.head.appendChild(style);
            }
        }

        /* --- FORCE MUSIC PLAY (Autoplay Fix) --- */
        window.addEventListener('load', function() {
            let music = document.getElementById('bgMusic');
            music.volume = 0.5; 

            let startPlay = music.play();

            if (startPlay !== undefined) {
                startPlay.catch(error => {
                    console.log("Browser blocked autoplay. Waiting for user interaction.");
                    
                    document.body.addEventListener('click', function() {
                        music.play();
                    }, { once: true });
                    
                    document.body.addEventListener('touchstart', function() {
                        music.play();
                    }, { once: true });
                });
            }
        });
    </script>
</body>
</html>